<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Elderella - Your Elder care administrator. Lightens the invisible load of Elder care by planning, organizing, delegating, and following up.">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="keywords" content="elder care, eldercare administrator, senior care, aging parents, caregiving support, care coordination, eldercare management, family caregiver support">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Elderella - Your Elder Care Administrator">
    <meta property="og:description" content="Elderella lightens the invisible load of Elder care by planning, organizing, delegating, and sweeping away the endless to-dos that weigh you down.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.elderella.com/">
    <meta property="og:image" content="https://www.elderella.com/images/elderella-logo.svg">
    <meta property="og:site_name" content="Elderella">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Elderella - Your Elder Care Administrator">
    <meta name="twitter:description" content="Elderella lightens the invisible load of Elder care by planning, organizing, delegating, and sweeping away the endless to-dos.">
    <meta name="twitter:image" content="https://www.elderella.com/images/elderella-logo.svg">

    <link rel="canonical" href="https://www.elderella.com/">
    <title>Elderella - Your Elder Care Administrator</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/images/elderella-sparkle.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/elderella-sparkle.svg">

    <!-- Initialize dataLayer BEFORE GTM -->
    <script>
        window.dataLayer = window.dataLayer || [];
    </script>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KQ53TLV2');</script>
    <!-- End Google Tag Manager -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400&family=Source+Sans+Pro:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles-v2.css">
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@graph": [
            {
                "@type": "Organization",
                "@id": "https://www.elderella.com/#organization",
                "name": "Elderella Inc.",
                "alternateName": "Elderella",
                "description": "Elder care administration services that lighten the invisible load of Elder care by planning, organizing, delegating, and following up.",
                "url": "https://www.elderella.com",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://www.elderella.com/images/elderella-logo.svg",
                    "caption": "Elderella Logo"
                },
                "image": "https://www.elderella.com/images/elderella-logo.svg",
                "address": {
                    "@type": "PostalAddress",
                    "addressLocality": "Waterloo",
                    "addressRegion": "ON",
                    "addressCountry": "CA"
                },
                "email": "hello@elderella.com",
                "sameAs": [
                    "https://www.linkedin.com/company/elderella/"
                ],
                "contactPoint": {
                    "@type": "ContactPoint",
                    "contactType": "customer service",
                    "email": "hello@elderella.com",
                    "areaServed": ["US", "CA"],
                    "availableLanguage": ["en"]
                },
                "founder": [
                    {
                        "@type": "Person",
                        "@id": "https://www.elderella.com/#jacqui-murphy",
                        "name": "Jacqui Murphy",
                        "jobTitle": "Co-founder",
                        "url": "https://www.linkedin.com/in/jacquimurphy/",
                        "sameAs": "https://www.linkedin.com/in/jacquimurphy/",
                        "worksFor": {
                            "@id": "https://www.elderella.com/#organization"
                        }
                    },
                    {
                        "@type": "Person",
                        "@id": "https://www.elderella.com/#mike-kirkup",
                        "name": "Mike Kirkup",
                        "jobTitle": "Co-founder",
                        "url": "https://www.linkedin.com/in/mikekirkup/",
                        "sameAs": "https://www.linkedin.com/in/mikekirkup/",
                        "worksFor": {
                            "@id": "https://www.elderella.com/#organization"
                        }
                    }
                ]
            },
            {
                "@type": "WebSite",
                "@id": "https://www.elderella.com/#website",
                "url": "https://www.elderella.com",
                "name": "Elderella - Your Elder Care Administrator",
                "description": "Elderella lightens the invisible load of Elder care by planning, organizing, delegating, and sweeping away the endless to-dos that weigh you down.",
                "publisher": {
                    "@id": "https://www.elderella.com/#organization"
                },
                "inLanguage": "en-US"
            },
            {
                "@type": "WebPage",
                "@id": "https://www.elderella.com/#webpage",
                "url": "https://www.elderella.com/",
                "name": "Elderella - Your Elder Care Administrator",
                "isPartOf": {
                    "@id": "https://www.elderella.com/#website"
                },
                "about": {
                    "@id": "https://www.elderella.com/#organization"
                },
                "description": "Elderella lightens the invisible load of Elder care by planning, organizing, delegating, and sweeping away the endless to-dos that weigh you down.",
                "inLanguage": "en-US"
            },
            {
                "@type": "LocalBusiness",
                "@id": "https://www.elderella.com/#localbusiness",
                "name": "Elderella Inc.",
                "description": "Elder care administration platform helping families coordinate care for aging loved ones",
                "url": "https://www.elderella.com",
                "email": "hello@elderella.com",
                "address": {
                    "@type": "PostalAddress",
                    "addressLocality": "Waterloo",
                    "addressRegion": "ON",
                    "addressCountry": "CA"
                },
                "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": "43.4643",
                    "longitude": "-80.5204"
                },
                "areaServed": [
                    {
                        "@type": "Country",
                        "name": "United States"
                    },
                    {
                        "@type": "Country",
                        "name": "Canada"
                    }
                ]
            },
            {
                "@type": "Service",
                "@id": "https://www.elderella.com/#service",
                "serviceType": "Elder Care Administration",
                "provider": {
                    "@id": "https://www.elderella.com/#organization"
                },
                "name": "Elder Care Coordination Platform",
                "description": "Comprehensive elder care administration services that help families plan, organize, delegate, and manage care for aging parents",
                "areaServed": [
                    {
                        "@type": "Country",
                        "name": "United States"
                    },
                    {
                        "@type": "Country",
                        "name": "Canada"
                    }
                ],
                "audience": {
                    "@type": "PeopleAudience",
                    "audienceType": "Family Caregivers"
                },
                "category": "Elder Care Services"
            }
        ]
    }
    </script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KQ53TLV2"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <img src="images/elderella-logo.svg" alt="Elderella - Elder Care Administration Services" class="logo">
        </div>
    </header>

    <!-- Hero Section with Stats -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-wrapper">
                <div class="hero-content">
                    <!-- Circular image on left -->
                    <picture>
                        <source srcset="images/women-hugging-thankful.webp" type="image/webp">
                        <source srcset="images/women-hugging-thankful.jpg" type="image/jpeg">
                        <img
                            src="images/women-hugging-thankful.jpg"
                            alt="Elder care support bringing families together - grandmother and daughter embracing"
                            class="hero-image-bleed"
                            loading="lazy">
                    </picture>

                    <!-- Hero text on right -->
                    <div class="hero-text">
                        <h1 class="hero-title">Your&nbsp;Elder&nbsp;Care<br>Administrator</h1>
                        <p class="hero-subtitle">
                            Elderella lightens the invisible load of Elder care
                            by planning, organizing, delegating, and
                            sweeping away the endless to-dos
                            that weigh you down.
                        </p>

                        <img src="images/elderella-sparkle.svg" alt="Elderella logo sparkle - Elder care administrator" class="star-icon">
                    </div>
                </div>

                <!-- Stats grid below image and text -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">71+ million</div>
                        <div class="stat-label">Family Caregivers</div>
                        <div class="stat-description">North Americans caring for<br>aging loved ones</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">$600 billion</div>
                        <div class="stat-label">Unpaid Care</div>
                        <div class="stat-description">Annual value of<br>family caregiving</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">26 hours</div>
                        <div class="stat-label">Caregiving</div>
                        <div class="stat-description">Average time spent<br>providing care each week</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">61%</div>
                        <div class="stat-label">Working</div>
                        <div class="stat-description">Caregivers trying to work<br>while providing care</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Carrying Section -->
<section class="carrying-section">
  <div class="container">
    <div class="carrying-text">
      <h2>You're carrying a lot.</h2>
      <p class="text">
        Juggling careers, kids, and the relentless
        needs of Elder care often feels impossibly
        heavy—isolating, exhausting, and lonely.
      </p>
      <p class="text">
        Long lists, family tensions, and sleepless
        nights pile on, until the burden feels too much
        to carry.
      </p>
    </div>

    <!-- Testimonials inside carrying section -->
    <div class="testimonials-grid">
        <div class="testimonial-card">
            <p>"When you're in it you feel like you're
            the only person in the world going
            through it and there's no answers
            because it's just you and them."</p>
            <span class="author">Emily, 45</span>
        </div>
        <div class="testimonial-card">
            <p>"Coordinating between my siblings
            about Dad's care is exhausting. We're all trying
            to help but nobody's on the same page."</p>
            <span class="author">Michael, 52, Teacher</span>
        </div>
        <div class="testimonial-card">
            <p>"I had to reduce my work hours to care
            for my parents. The financial stress is
            overwhelming."</p>
            <span class="author">Jennifer, 48, Marketing Director</span>
        </div>
    </div>
  </div>
</section>

    <!-- Gallery Images Section -->
    <section class="gallery-section">
        <div class="image-grid-bleed">
          <picture>
            <source srcset="images/man-driving-elder.webp" type="image/webp">
            <source srcset="images/man-driving-elder.jpg" type="image/jpeg">
            <img src="images/man-driving-elder.jpg" alt="Caregiver providing transportation for elderly parent - driving support" loading="lazy">
          </picture>

        <picture>
            <source srcset="images/woman-paying-bills.webp" type="image/webp">
            <source srcset="images/woman-paying-bills.jpg" type="image/jpeg">
            <img src="images/woman-paying-bills.jpg" alt="Managing elder care finances and bills - financial caregiving" loading="lazy">
          </picture>

          <picture>
            <source srcset="images/playing-cards-with-elder.webp" type="image/webp">
            <source srcset="images/playing-cards-with-elder.jpg" type="image/jpeg">
            <img src="images/playing-cards-with-elder.jpg" alt="Quality time with elderly parent - social engagement and activities" loading="lazy">
          </picture>

          <picture>
            <source srcset="images/woman-grocery-shopping-alone.webp" type="image/webp">
            <source srcset="images/woman-grocery-shopping-alone.jpg" type="image/jpeg">
            <img src="images/woman-grocery-shopping-alone.jpg" alt="Caregiver grocery shopping for elderly parent - daily care tasks" loading="lazy">
          </picture>
        </div>
    </section>

    <!-- Interview Form Section -->
    <section class="interview-section">
        <div class="container">
            <div class="interview-card">
                <div class="form-title-wrapper">
                    <img src="images/sparkle-large.png" alt="" class="form-sparkle">
                    <h3 class="form-title">Share your<br>Elder care story</h3>
                </div>
                <p class="form-subtitle">Tell us how Elder care is impacting you, and help us build the support system you need.</p>

                <form id="interviewForm">
                    <input type="text" id="firstName" name="firstName" placeholder="Your first name" required minlength="2" pattern="[a-zA-Z\s\-']+">
                    <input type="text" id="lastName" name="lastName" placeholder="Your last name" required minlength="2" pattern="[a-zA-Z\s\-']+">
                    <input type="email" id="email" name="email" placeholder="Your email" required>
                    <input type="tel" id="phone" name="phone" placeholder="Your phone number (optional)">
                    <textarea id="situation" name="situation" placeholder="Your caregiving situation (optional)"></textarea>

                    <div class="radio-section">
                        <label class="radio-label">Who would you prefer to speak with?</label>
                        <div class="radio-options">
                            <label>
                                <input type="radio" name="interviewer" value="jacqui">
                                <span>Jacqui Murphy</span>
                            </label>
                            <label>
                                <input type="radio" name="interviewer" value="mike">
                                <span>Mike Kirkup</span>
                            </label>
                            <label>
                                <input type="radio" name="interviewer" value="no-preference" checked>
                                <span>No preference</span>
                            </label>
                        </div>
                    </div>

                    <div class="newsletter-checkbox">
                        <label for="newsletter">
                            <input type="checkbox" name="newsletter" id="newsletter">
                            <span>Yes! Please send me Elderella updates.</span>
                        </label>
                    </div>

                    <button type="submit" class="submit-btn">Schedule your interview</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Not Alone Section -->
    <section class="not-alone-section">
        <div class="container">
            <div class="not-alone-content">
                <h2>You're not alone.<br><br>
                    Stop doing it all yourself,
                    or relying on fragmented,
                    unreliable help.
                </h2>
                <p>
                    Elderella lifts weight off your shoulders
                    by bringing your circle of care together
                    in one coordinated system.
                </p>
                <p>
                    It restores your sense of control, frees
                    up your precious time and energy, and
                    turns Elder care chaos into calm.
                </p>
            </div>

            <div class="hands-wrapper">
                <picture>
                    <source srcset="images/stacked-helping-hands.webp" type="image/webp">
                    <source srcset="images/stacked-helping-hands.jpg" type="image/jpeg">
                    <img
                        src="images/stacked-helping-hands.jpg"
                        alt="Community elder care support - multiple hands helping together"
                        class="hands-image-bleed"
                        loading="lazy">
                </picture>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <div class="newsletter-content">
                <div class="newsletter-title-wrapper">
                    <img src="images/sparkle-large.png" alt="" class="newsletter-sparkle">
                    <h2>Want to keep up with our latest news?</h2>
                </div>

                <form id="newsletterForm" class="newsletter-form">
                    <div class="newsletter-inputs">
                        <input type="text" id="newsletter-firstName" name="firstName" placeholder="Your first name" required minlength="2" pattern="[a-zA-Z\s\-']+">
                        <input type="text" id="newsletter-lastName" name="lastName" placeholder="Your last name" required minlength="2" pattern="[a-zA-Z\s\-']+">
                        <input type="email" id="newsletter-email" name="email" placeholder="Your email address" required>
                    </div>
                    <button type="submit" class="newsletter-submit-btn">Sign up for updates!</button>
                </form>
                <div id="newsletter-message" class="newsletter-message" role="alert" aria-live="polite"></div>
                <p class="newsletter-privacy-note">We respect your privacy. See our <a href="privacy.html">Privacy Policy</a>.</p>
            </div>
        </div>
    </section>

    <!-- Founders -->
    <section class="founders-section">
        <div class="container">
            <h2>Meet the founders.</h2>
            <p>We understand the invisible load because we've carried it too.</p>
            
            <div class="founders-grid">
                <div class="founder">
                    <img src="images/founders/jacqui.jpg" alt="Jacqui Murphy - Elderella Co-founder and Elder Care Expert">
                    <h3>Jacqui Murphy</h3>
                    <p>Co-founder</p>
                    <a href="https://www.linkedin.com/in/jacquimurphy/" target="_blank">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                    </a>
                </div>
                <div class="founder">
                    <img src="images/founders/mike.jpg" alt="Mike Kirkup - Elderella Co-founder and Technology Lead">
                    <h3>Mike Kirkup</h3>
                    <p>Co-founder</p>
                    <a href="https://www.linkedin.com/in/mikekirkup/" target="_blank">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                    </a>
                </div>
            </div>
            
            <div class="contact">
                <p>Based in Waterloo, Ontario, Canada</p>
                <p><a href="mailto:hello@elderella.com">hello@elderella.com</a></p>
            </div>
            
            <img src="images/elderella-sparkle.svg" alt="Elderella logo sparkle - Elder care administrator" class="star-icon">
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <a href="privacy.html">Privacy Policy</a>
                <a href="terms.html">Terms of Service</a>
                <span>© 2025 Elderella Inc.</span>
                <a href="https://www.linkedin.com/company/elderella/" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="#FFFFFF">
                        <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                    </svg>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // CloudFlare Worker URL
        const WORKER_URL = 'https://elderella-website-api.elderella.workers.dev';

        // DataLayer event: view_content (page load)
        window.dataLayer.push({
            'event': 'view_content',
            'page_path': window.location.pathname,
            'page_title': document.title
        });

        // DataLayer event: start_form (user interacts with form)
        let formStarted = false;
        const formInputs = document.querySelectorAll('#interviewForm input, #interviewForm textarea');
        formInputs.forEach(input => {
            input.addEventListener('focus', () => {
                if (!formStarted) {
                    formStarted = true;
                    window.dataLayer.push({
                        'event': 'start_form',
                        'form_name': 'interview_form'
                    });
                }
            });
        });

        // Interview form handler
        let interviewSubmitting = false;
        document.getElementById('interviewForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            if (interviewSubmitting) return;
            interviewSubmitting = true;

            const submitBtn = e.target.querySelector('.submit-btn');
            const originalBtnText = submitBtn.textContent;
            submitBtn.textContent = 'Processing...';
            submitBtn.disabled = true;
            
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value || '',
                situation: document.getElementById('situation').value || '',
                interviewer: document.querySelector('input[name="interviewer"]:checked').value,
                newsletter: document.getElementById('newsletter').checked
            };
            
            if (formData.phone && !/^[\d\s\-\+\(\)]+$/.test(formData.phone)) {
                submitBtn.textContent = 'Invalid phone format';
                submitBtn.disabled = false;
                interviewSubmitting = false;
                setTimeout(() => {
                    submitBtn.textContent = originalBtnText;
                }, 3000);
                return;
            }
            
            try {
                const response = await fetch(`${WORKER_URL}/api/interview`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (!response.ok) {
                    console.error('Server error:', result.error);
                    submitBtn.textContent = result.error || 'Unable to save information';
                    submitBtn.disabled = false;
                    
                    if (result.error && result.error.includes('phone')) {
                        setTimeout(() => {
                            submitBtn.textContent = originalBtnText;
                        }, 3000);
                    } else {
                        // Fire lead event even on server error (user can still book)
                        window.dataLayer.push({
                            'event': 'lead',
                            'form_name': 'interview_form',
                            'interviewer_preference': formData.interviewer,
                            'submission_status': 'server_error'
                        });

                        submitBtn.textContent = 'Redirecting to calendar...';
                        const calendlyUrl = buildCalendlyUrl(formData);
                        setTimeout(() => {
                            window.location.href = calendlyUrl;
                        }, 1500);
                    }
                } else {
                    // DataLayer event: lead (successful form submission)
                    window.dataLayer.push({
                        'event': 'lead',
                        'form_name': 'interview_form',
                        'interviewer_preference': formData.interviewer,
                        'submission_status': 'success'
                    });

                    submitBtn.textContent = 'Success! Redirecting...';
                    const calendlyUrl = buildCalendlyUrl(formData);
                    setTimeout(() => {
                        window.location.href = calendlyUrl;
                    }, 1500);
                }
                
            } catch (error) {
                console.error('Network error:', error);

                // Fire lead event on network error (user can still book)
                window.dataLayer.push({
                    'event': 'lead',
                    'form_name': 'interview_form',
                    'interviewer_preference': formData.interviewer,
                    'submission_status': 'network_error'
                });

                submitBtn.textContent = 'Connection issue - redirecting anyway...';
                const calendlyUrl = buildCalendlyUrl(formData);
                setTimeout(() => {
                    window.location.href = calendlyUrl;
                }, 1500);
            }
        });
        
        function buildCalendlyUrl(formData) {
            const urls = {
                jacqui: 'https://calendly.com/jacqui-murphy/elderella-caregiver-interview',
                mike: 'https://calendly.com/mike-elderella/elderella-caregiver-interview'
            };

            let baseUrl = formData.interviewer === 'mike' ? urls.mike : urls.jacqui;

            const params = new URLSearchParams({
                name: `${formData.firstName} ${formData.lastName}`,
                email: formData.email
            });

            if (formData.situation) {
                params.append('a1', formData.situation);
            }

            return `${baseUrl}?${params.toString()}`;
        }

        // Newsletter form handler
        let newsletterFormStarted = false;
        let newsletterSubmitting = false;
        const newsletterFormInputs = document.querySelectorAll('#newsletterForm input');
        newsletterFormInputs.forEach(input => {
            input.addEventListener('focus', () => {
                if (!newsletterFormStarted) {
                    newsletterFormStarted = true;
                    window.dataLayer.push({
                        'event': 'start_form',
                        'form_name': 'newsletter_form'
                    });
                }
            });
        });

        document.getElementById('newsletterForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            if (newsletterSubmitting) return;
            newsletterSubmitting = true;

            const submitBtn = e.target.querySelector('.newsletter-submit-btn');
            const messageDiv = document.getElementById('newsletter-message');
            const originalBtnText = submitBtn.textContent;

            submitBtn.textContent = 'Processing...';
            submitBtn.disabled = true;
            messageDiv.textContent = '';
            messageDiv.className = 'newsletter-message';

            const formData = {
                firstName: document.getElementById('newsletter-firstName').value,
                lastName: document.getElementById('newsletter-lastName').value,
                email: document.getElementById('newsletter-email').value
            };

            try {
                const response = await fetch(`${WORKER_URL}/api/newsletter`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();

                if (!response.ok) {
                    console.error('Server error:', result.error);
                    messageDiv.textContent = result.error || 'Unable to save information. Please try again.';
                    messageDiv.className = 'newsletter-message error';
                    submitBtn.textContent = originalBtnText;
                    submitBtn.disabled = false;
                    newsletterSubmitting = false;

                    // Fire event even on error for analytics
                    window.dataLayer.push({
                        'event': 'newsletter_signup',
                        'form_name': 'newsletter_form',
                        'submission_status': 'server_error'
                    });
                } else {
                    // Success
                    window.dataLayer.push({
                        'event': 'newsletter_signup',
                        'form_name': 'newsletter_form',
                        'submission_status': 'success'
                    });

                    messageDiv.textContent = 'Success! You\'re signed up for updates.';
                    messageDiv.className = 'newsletter-message success';
                    submitBtn.textContent = originalBtnText;

                    // Clear form
                    e.target.reset();

                    // Re-enable button after 3 seconds
                    setTimeout(() => {
                        submitBtn.disabled = false;
                        newsletterSubmitting = false;
                        messageDiv.textContent = '';
                    }, 3000);
                }

            } catch (error) {
                console.error('Network error:', error);

                window.dataLayer.push({
                    'event': 'newsletter_signup',
                    'form_name': 'newsletter_form',
                    'submission_status': 'network_error'
                });

                messageDiv.textContent = 'Connection issue. Please try again.';
                messageDiv.className = 'newsletter-message error';
                submitBtn.textContent = originalBtnText;
                submitBtn.disabled = false;
                newsletterSubmitting = false;
            }
        });
    </script>
</body>
</html>