<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Elderella - Transforming elder care through technology. Supporting families caring for aging parents with dignity, connection, and peace of mind.">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Elderella - Reimagining Elder Care</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="logo">Elderella</h1>
            <h2 class="tagline">Reimagining elder care for modern families</h2>
            <p class="subtitle">
                Because caring for aging parents shouldn't mean doing it alone. 
                We're building the support system every family deserves.
            </p>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats">
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number">53M</div>
                <div class="stat-label">Family Caregivers</div>
                <div class="stat-description">Americans caring for aging loved ones</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">$600B</div>
                <div class="stat-label">In Unpaid Care</div>
                <div class="stat-description">Annual value of family caregiving</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">24hrs</div>
                <div class="stat-label">Per Week</div>
                <div class="stat-description">Average time spent caregiving</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">61%</div>
                <div class="stat-label">Still Working</div>
                <div class="stat-description">Caregivers juggling jobs and care</div>
            </div>
        </div>
    </section>

    <!-- Problem Section -->
    <section class="problem-section">
        <div class="section-header">
            <h2 class="section-title">We hear you</h2>
            <p class="section-subtitle">
                These are the real challenges families face every day
            </p>
        </div>
        <div class="problem-cards">
            <div class="problem-card">
                <p class="problem-quote">
                    "When you're in it you feel like you're the only person in the world going through it 
                    and there's no answers because it's just you and them."
                </p>
                <p class="problem-author">- Sarah, 45</p>
            </div>
            <div class="problem-card">
                <p class="problem-quote">
                    "Coordinating between my siblings about Dad's care is exhausting. 
                    We're all trying to help but nobody's on the same page."
                </p>
                <p class="problem-author">- Michael, 52, Teacher</p>
            </div>
            <div class="problem-card">
                <p class="problem-quote">
                    "I had to reduce my work hours to care for my parents. 
                    The financial stress is overwhelming."
                </p>
                <p class="problem-author">- Jennifer, 48, Marketing Director</p>
            </div>
        </div>
    </section>

    <!-- Mission Section -->
    <section class="mission">
        <div class="mission-content">
            <p class="mission-text">
                We believe that <span class="mission-highlight">caring for aging parents</span> 
                is one of life's most profound responsibilities. Yet too many families face this 
                journey feeling isolated, overwhelmed, and unprepared.
            </p>
            <p class="mission-text">
                Elderella exists to <span class="mission-highlight">transform this experience</span> 
                - turning confusion into clarity, isolation into connection, and stress into support.
            </p>
        </div>
    </section>

    <!-- Interview Section -->
    <section class="email-section">
        <div class="email-container">
            <h2 class="email-header">Share Your Caregiving Story</h2>
            <p class="email-subtext">
                Book a 50-minute conversation to help shape the future of elder care
            </p>
            <form class="interview-form" id="interviewForm" aria-label="Schedule a user interview">
                <div class="form-row">
                    <input type="text" id="name" name="name" class="form-input" placeholder="Your name" required
                           aria-label="Your name" aria-required="true">
                    <input type="email" id="email" name="email" class="form-input" placeholder="Your email" required
                           aria-label="Your email address" aria-required="true">
                </div>
                <div class="form-row">
                    <input type="tel" id="phone" name="phone" class="form-input full-width" placeholder="Phone number (optional)"
                           aria-label="Phone number (optional)">
                </div>
                <div class="form-row">
                    <textarea id="situation" name="situation" class="form-textarea" rows="3" 
                        placeholder="Tell us briefly about your caregiving situation (optional)"
                        aria-label="Your caregiving situation (optional)"></textarea>
                </div>
                <div class="interviewer-selection">
                    <p class="interviewer-label" id="interviewer-label">Who would you prefer to speak with?</p>
                    <div class="radio-group" role="radiogroup" aria-labelledby="interviewer-label">
                        <label class="radio-label">
                            <input type="radio" name="interviewer" value="jacqui"
                                   aria-label="Speak with Jacqui Murphy">
                            <span>Jacqui Murphy</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="interviewer" value="mike"
                                   aria-label="Speak with Mike Kirkup">
                            <span>Mike Kirkup</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="interviewer" value="no-preference" checked
                                   aria-label="No interviewer preference">
                            <span>No preference</span>
                        </label>
                    </div>
                </div>
                <button type="submit" class="submit-btn" aria-label="Schedule your interview">Schedule Your Interview</button>
            </form>
        </div>
    </section>

    <!-- Founders Section -->
    <section class="founders-section">
        <div class="founders-container">
            <h2 class="founders-title">Meet the Founders</h2>
            <p class="section-subtitle">
                We're building Elderella because we've lived this journey with our own families.
            </p>
            <div class="founders-grid">
                <div class="founder-card">
                    <h3 class="founder-name">Jacqui Murphy</h3>
                    <p class="founder-role">Co-Founder & CEO</p>
                    <a href="https://www.linkedin.com/in/jacquimurphy/" target="_blank" class="founder-link">Connect on LinkedIn</a>
                </div>
                <div class="founder-card">
                    <h3 class="founder-name">Mike Kirkup</h3>
                    <p class="founder-role">Co-Founder & CTO</p>
                    <a href="https://www.linkedin.com/in/mikekirkup/" target="_blank" class="founder-link">Connect on LinkedIn</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <!-- Newsletter Signup -->
            <div class="footer-newsletter">
                <p style="color: #5c4d6d; margin-bottom: 15px; font-size: 1.1rem;">Stay updated on our journey</p>
                <form class="footer-email-form" id="newsletterForm" aria-label="Newsletter signup">
                    <input type="email" id="newsletter-email" class="email-input" placeholder="Enter your email" required
                           aria-label="Email address for newsletter" aria-required="true">
                    <button type="submit" class="submit-btn" aria-label="Subscribe to newsletter">Get Updates</button>
                </form>
            </div>
            
            <div class="footer-info" style="margin-top: 40px;">
                <span>Based in Waterloo, Ontario</span>
                <span>•</span>
                <span>hello@elderella.com</span>
                <span>•</span>
                <span>© 2025 Elderella Inc.</span>
            </div>
            <div class="footer-links">
                <a href="privacy.html">Privacy Policy</a>
                <a href="https://www.linkedin.com/company/elderella/about/" target="_blank">LinkedIn</a>
            </div>
        </div>
    </footer>

    <script>
        // CloudFlare Worker URL
        const WORKER_URL = 'https://elderella-website-api.elderella.workers.dev';
        
        // Interview form handler
        document.getElementById('interviewForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const submitBtn = e.target.querySelector('.submit-btn');
            const originalBtnText = submitBtn.textContent;
            submitBtn.textContent = 'Processing...';
            submitBtn.disabled = true;
            
            // Get form data
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value || '',
                situation: document.getElementById('situation').value || '',
                interviewer: document.querySelector('input[name="interviewer"]:checked').value
            };
            
            // Validate phone number format if provided
            if (formData.phone && !/^[\d\s\-\+\(\)]+$/.test(formData.phone)) {
                submitBtn.textContent = 'Invalid phone format';
                submitBtn.disabled = false;
                setTimeout(() => {
                    submitBtn.textContent = originalBtnText;
                }, 3000);
                return;
            }
            
            try {
                // Send to CloudFlare Worker
                const response = await fetch(`${WORKER_URL}/api/interview`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (!response.ok) {
                    // Show specific error from server
                    console.error('Server error:', result.error);
                    submitBtn.textContent = result.error || 'Unable to save information';
                    submitBtn.disabled = false;
                    
                    // If it's a phone validation error, don't redirect
                    if (result.error && result.error.includes('phone')) {
                        setTimeout(() => {
                            submitBtn.textContent = originalBtnText;
                        }, 3000);
                    } else {
                        // Other errors - still redirect to Calendly after showing error briefly
                        setTimeout(() => {
                            submitBtn.textContent = 'Redirecting to calendar...';
                            const calendlyUrl = buildCalendlyUrl(formData);
                            window.location.href = calendlyUrl;
                        }, 2000);
                    }
                } else {
                    // Success - redirect immediately
                    submitBtn.textContent = 'Success! Redirecting...';
                    const calendlyUrl = buildCalendlyUrl(formData);
                    setTimeout(() => {
                        window.location.href = calendlyUrl;
                    }, 500);
                }
                
            } catch (error) {
                console.error('Network error:', error);
                submitBtn.textContent = 'Connection issue - redirecting anyway...';
                
                // Network error - still redirect to Calendly so we don't lose the interview
                setTimeout(() => {
                    const calendlyUrl = buildCalendlyUrl(formData);
                    window.location.href = calendlyUrl;
                }, 2000);
            }
        });
        
        function buildCalendlyUrl(formData) {
            // Select interviewer (default to Jacqui for no preference)
            const urls = {
                jacqui: 'https://calendly.com/jacqui-murphy/elderella-caregiver-interview',
                mike: 'https://calendly.com/mkirkup/elderella-caregiver-interview'
            };
            
            let baseUrl = formData.interviewer === 'mike' ? urls.mike : urls.jacqui;
            
            // Build parameters
            const params = new URLSearchParams({
                name: formData.name,
                email: formData.email
            });
            
            // Add caregiving situation to Question 1 (a1)
            if (formData.situation) {
                params.append('a1', formData.situation);
            }
            
            return `${baseUrl}?${params.toString()}`;
        }
        
        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Newsletter form handler
        document.getElementById('newsletterForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const submitBtn = e.target.querySelector('.submit-btn');
            const originalBtnText = submitBtn.textContent;
            submitBtn.textContent = 'Subscribing...';
            submitBtn.disabled = true;
            
            const email = document.getElementById('newsletter-email').value;
            
            try {
                const response = await fetch(`${WORKER_URL}/api/newsletter`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    // Success
                    submitBtn.textContent = '✓ Subscribed!';
                    submitBtn.style.background = 'linear-gradient(135deg, #4caf50 0%, #45a049 100%)';
                    e.target.reset();
                    setTimeout(() => {
                        submitBtn.textContent = originalBtnText;
                        submitBtn.style.background = '';
                        submitBtn.disabled = false;
                    }, 3000);
                } else {
                    // Show specific error
                    submitBtn.textContent = result.error || 'Subscription failed';
                    submitBtn.style.background = 'linear-gradient(135deg, #f44336 0%, #da190b 100%)';
                    setTimeout(() => {
                        submitBtn.textContent = originalBtnText;
                        submitBtn.style.background = '';
                        submitBtn.disabled = false;
                    }, 3000);
                }
            } catch (error) {
                console.error('Network error:', error);
                submitBtn.textContent = 'Connection issue - try again';
                submitBtn.style.background = 'linear-gradient(135deg, #ff9800 0%, #f57c00 100%)';
                setTimeout(() => {
                    submitBtn.textContent = originalBtnText;
                    submitBtn.style.background = '';
                    submitBtn.disabled = false;
                }, 3000);
            }
        });
        
        // Observe elements for animation
        document.addEventListener('DOMContentLoaded', () => {
            const animateElements = document.querySelectorAll('.stat-card, .problem-card');
            animateElements.forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        });
    </script>
</body>
</html>